<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Employee</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Register Employee</h1>
    <form id="register-form">
        <label for="first-name">First Name:</label>
        <input type="text" id="first-name" name="firstName" required><br>

        <label for="last-name">Last Name:</label>
        <input type="text" id="last-name" name="lastName" required><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required><br>

        <label for="city">City:</label>
        <input type="text" id="city" name="city" required><br>

        <label for="postal-code">Postal Code:</label>
        <input type="text" id="postal-code" name="postalCode" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required><br>

        <label for="hourly-rate">Hourly Rate:</label>
        <input type="number" id="hourly-rate" name="hourlyRate" required><br>

        <label for="role">Role:</label>
        <select id="role" name="role" required>
            <option value="Employee">Employee</option>
            <option value="Admin">Admin</option>
        </select><br>

        <button type="submit">Register</button>
    </form>

    <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBxwBT0Rs_GBgXfTZ23Nl2zSGZWO7f2r7A",
            authDomain: "werknemers-gcs.firebaseapp.com",
            projectId: "werknemers-gcs",
            storageBucket: "werknemers-gcs.appspot.com",
            messagingSenderId: "1029609788615",
            appId: "1:1029609788615:web:b52c8e98e9ae881fe6dae2",
            measurementId: "G-1XZCJ3MTK4"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Register Employee
        document.getElementById('register-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const firstName = event.target.firstName.value;
            const lastName = event.target.lastName.value;
            const address = event.target.address.value;
            const city = event.target.city.value;
            const postalCode = event.target.postalCode.value;
            const email = event.target.email.value;
            const password = event.target.password.value;
            const hourlyRate = event.target.hourlyRate.value;
            const role = event.target.role.value;

            auth.createUserWithEmailAndPassword(email, password)
                .then(userCredential => {
                    const user = userCredential.user;
                    return db.collection('employees').doc(user.uid).set({
                        firstName: firstName,
                        lastName: lastName,
                        address: address,
                        city: city,
                        postalCode: postalCode,
                        email: email,
                        hourlyRate: hourlyRate,
                        role: role,
                        userId: user.uid
                    });
                })
                .then(() => {
                    alert('Employee registered successfully!');
                    document.getElementById('register-form').reset();
                })
                .catch(error => {
                    console.error('Error registering employee:', error);
                    alert('Error registering employee: ' + error.message);
                });
        });
    </script>
</body>
</html>
